{"ast":null,"code":"var _jsxFileName = \"X:\\\\programowanie\\\\js\\\\ReactCourse\\\\http-app\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport http from \"./services/httpService\";\nimport config from \"./config.json\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      posts: []\n    };\n    this.handleAdd = async () => {\n      const obj = {\n        title: \"a\",\n        body: \"b\"\n      };\n      const {\n        data: post\n      } = await http.post(config.apiEndpoint, obj);\n      const posts = [post, ...this.state.posts];\n      this.setState({\n        posts\n      });\n    };\n    this.handleUpdate = async post => {\n      post.title = \"UPDATED\";\n      await http.put(config.apiEndpoint + \"/\" + post.id, post);\n      const posts = [...this.state.posts];\n      const index = posts.indexOf(post);\n      post[index] = {\n        ...post\n      };\n      this.setState({\n        posts\n      });\n    };\n    this.handleDelete = async post => {\n      const originalPosts = this.state.posts;\n      const posts = this.state.posts.filter(p => p.id !== post.id);\n      this.setState({\n        posts\n      });\n      try {\n        await http.delete(\"SS\" + config.apiEndpoint + \"/\" + post.id);\n      } catch (ex) {\n        if (ex.response && ex.response.status === 404) alert(\"This post has alredy been deleted\");\n        this.setState({\n          posts: originalPosts\n        });\n      }\n    };\n  }\n  async componentDidMount() {\n    const {\n      data: posts\n    } = await http.get(config.apiEndpoint);\n    this.setState({\n      posts\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: this.handleAdd,\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.state.posts.map(post => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: post.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-info btn-sm\",\n                onClick: () => this.handleUpdate(post),\n                children: \"Update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger btn-sm\",\n                onClick: () => this.handleDelete(post),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this)]\n          }, post.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Component","ToastContainer","http","config","App","state","posts","handleAdd","obj","title","body","data","post","apiEndpoint","setState","handleUpdate","put","id","index","indexOf","handleDelete","originalPosts","filter","p","delete","ex","response","status","alert","componentDidMount","get","render","map"],"sources":["X:/programowanie/js/ReactCourse/http-app/src/App.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport http from \"./services/httpService\";\nimport config from \"./config.json\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./App.css\";\n\nclass App extends Component {\n  state = {\n    posts: [],\n  };\n\n  async componentDidMount() {\n    const { data: posts } = await http.get(config.apiEndpoint);\n    this.setState({ posts });\n  }\n\n  handleAdd = async () => {\n    const obj = { title: \"a\", body: \"b\" };\n    const { data: post } = await http.post(config.apiEndpoint, obj);\n\n    const posts = [post, ...this.state.posts];\n    this.setState({ posts });\n  };\n\n  handleUpdate = async (post) => {\n    post.title = \"UPDATED\";\n    await http.put(config.apiEndpoint + \"/\" + post.id, post);\n\n    const posts = [...this.state.posts];\n    const index = posts.indexOf(post);\n    post[index] = { ...post };\n    this.setState({ posts });\n  };\n\n  handleDelete = async (post) => {\n    const originalPosts = this.state.posts;\n\n    const posts = this.state.posts.filter((p) => p.id !== post.id);\n    this.setState({ posts });\n\n    try {\n      await http.delete(\"SS\" + config.apiEndpoint + \"/\" + post.id);\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404)\n        alert(\"This post has alredy been deleted\");\n\n      this.setState({ posts: originalPosts });\n    }\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <ToastContainer />\n        <button className=\"btn btn-primary\" onClick={this.handleAdd}>\n          Add\n        </button>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>Title</th>\n              <th>Update</th>\n              <th>Delete</th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.state.posts.map((post) => (\n              <tr key={post.id}>\n                <td>{post.title}</td>\n                <td>\n                  <button\n                    className=\"btn btn-info btn-sm\"\n                    onClick={() => this.handleUpdate(post)}\n                  >\n                    Update\n                  </button>\n                </td>\n                <td>\n                  <button\n                    className=\"btn btn-danger btn-sm\"\n                    onClick={() => this.handleDelete(post)}\n                  >\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}